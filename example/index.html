<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>select-date</title>

    <style media="screen">
      select.min-width {
        min-width: 150px;
      }

      .error {
        border: 1px solid red;
      }
    </style>
  </head>
  <body ng-app="App" ng-controller="MainController as main">
    <form name="main.foo" ng-submit="main.handleSubmit()">
      <fieldset>
        <legend>Birth Date</legend>
        <select-date name="birth_date" required min="100 years ago" max="now">
          <label>
            <span>Day</span>
            <select-date-day ng-model="main.birth_date.day" class="min-width"></select-date-day>
          </label>

          <label>
            <span>Month</span>
            <select-date-month ng-model="main.birth_date.month"></select-date-month>
          </label>

          <label>
            <span>Year</span>
            <select-date-year ng-model="main.birth_date.year"></select-date-year>
          </label>
        </select-date>
        <div ng-if="main.foo.$error.birth_date">
          <br />
          <strong>Errors:</strong> <br />
          <pre>{{main.foo.$error.birth_date[0] | json}}</pre>
        </div>
      </fieldset>

      <fieldset>
        <legend>Birth date +18</legend>
        <select-date name="birth_date2" required min="100 years ago" max="18 years ago">
          <label>
            <span>Day</span>
            <select-date-day ng-model="main.birth_date2.day"></select-date-day>
          </label>

          <label>
            <span>Month</span>
            <select-date-month ng-model="main.birth_date2.month"></select-date-month>
          </label>

          <label>
            <span>Year</span>
            <select-date-year ng-model="main.birth_date2.year"></select-date-year>
          </label>
        </select-date>
        <div ng-if="main.foo.$error.birth_date2">
          <br />
          <strong>Errors:</strong> <br />
          <pre>{{main.foo.$error.birth_date2[0] | json}}</pre>
        </div>
      </fieldset>

      <fieldset>
        <legend>Birth date +1 not required</legend>
        <select-date name="birth_date3" min="100 years ago" max="18 years ago">
          <label>
            <span>Day</span>
            <select-date-day ng-model="main.birth_date3.day"></select-date-day>
          </label>

          <label>
            <span>Month</span>
            <select-date-month ng-model="main.birth_date3.month"></select-date-month>
          </label>

          <label>
            <span>Year</span>
            <select-date-year ng-model="main.birth_date3.year"></select-date-year>
          </label>
        </select-date>
        <div ng-if="main.foo.$error.birth_date3">
          <br />
          <strong>Errors:</strong> <br />
          <pre>{{main.foo.$error.birth_date3[0] | json}}</pre>
        </div>
      </fieldset>

      <fieldset>
        <legend>Expire date</legend>
        <select-date name="expire_date" required min="now" max="10 years from now">
          <label>
            <span>Day</span>
            <select-date-day ng-model="main.expire_date.day"></select-date-day>
          </label>

          <label>
            <span>Month</span>
            <select-date-month ng-model="main.expire_date.month"></select-date-month>
          </label>

          <label>
            <span>Year</span>
            <select-date-year ng-model="main.expire_date.year"></select-date-year>
          </label>
        </select-date>
        <div ng-if="main.foo.$error.expire_date">
          <br />
          <strong>Errors:</strong> <br />
          <pre>{{main.foo.$error.expire_date[0] | json}}</pre>
        </div>
      </fieldset>

      <fieldset>
        <legend>Expire date only month and year</legend>
        <select-date name="expire_date2" required min="now" max="10 years from now">
          <label>
            <span>Month</span>
            <select-date-month ng-model="main.expire_date2.month"></select-date-month>
          </label>

          <label>
            <span>Year</span>
            <select-date-year ng-model="main.expire_date2.year"></select-date-year>
          </label>
        </select-date>
        <div ng-if="main.foo.$error.expire_date2">
          <br />
          <strong>Errors:</strong> <br />
          <pre>{{main.foo.$error.expire_date2[0] | json}}</pre>
        </div>
      </fieldset>

      <button type="submit">Submit</button>

      <span ng-show="main.foo.$submitted">Submit clicked!</span>

    </form>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script src="build/main.bundle.js"></script>
    <script type="text/javascript">
      angular.module('App', ['SelectDate']).controller('MainController', function() {
        var vm = this;

        vm.handleSubmit = function() {
          if (!vm.foo.$valid) {
            alert('Invalid from');
          } else {
            alert('Valid form :)');
          }

          console.log("Submit", vm.foo);
        };
      });
    </script>
  </body>
</html>
